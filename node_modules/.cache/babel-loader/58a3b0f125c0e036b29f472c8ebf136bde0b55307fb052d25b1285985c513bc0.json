{"ast":null,"code":"// Importation des dépendances nécessaires\nimport React,{useEffect,useState}from'react';import{Link,useParams}from'react-router-dom';import axios from'axios';import logo from'../image/Logo.png';import{Helmet}from'react-helmet-async';// Composant pour afficher la fiche d'un artisan\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function FicheArtisan(){var _artisan$specialite;const{id}=useParams();// Récupération de l'ID dans l'URL\nconst[artisan,setArtisan]=useState(null);// État pour stocker les données de l'artisan\n// Chargement des données de l'artisan au montage du composant\nuseEffect(()=>{const fetchArtisan=async()=>{try{const response=await axios.get(`http://localhost:3001/api/artisans/${id}`);setArtisan(response.data);}catch(err){console.error('Erreur lors de la récupération de l’artisan :',err);}};fetchArtisan();},[id]);// Fonction pour afficher les étoiles de notation\nconst renderStars=note=>{const stars=[];for(let i=1;i<=5;i++){stars.push(/*#__PURE__*/_jsx(\"span\",{className:i<=note?'star filled':'star',children:\"\\u2605\"},i));}return stars;};// Affiche un message de chargement pendant la requête\nif(!artisan)return/*#__PURE__*/_jsx(\"p\",{children:\"Chargement...\"});// Affichage des informations de l'artisan et formulaire de contact\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"fiche-artisan\",children:[/*#__PURE__*/_jsxs(Helmet,{children:[/*#__PURE__*/_jsx(\"title\",{children:\"Fiche artisan\"}),/*#__PURE__*/_jsx(\"meta\",{name:\"description\",content:\"D\\xE9couvrez le profil d\\xE9taill\\xE9 de nos artisans\"})]}),/*#__PURE__*/_jsx(\"h2\",{children:artisan.nom}),/*#__PURE__*/_jsx(\"img\",{src:logo,alt:artisan.nom,className:\"artisan-photo\"}),/*#__PURE__*/_jsx(\"p\",{className:\"stars\",children:renderStars(artisan.note||0)}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Sp\\xE9cialit\\xE9 :\"}),\" \",(_artisan$specialite=artisan.specialite)===null||_artisan$specialite===void 0?void 0:_artisan$specialite.nom]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Localisation :\"}),\" \",artisan.ville]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\xC0 propos :\"}),\" \",artisan.a_propos||'Non renseigné']}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Site web :\"}),\" \",/*#__PURE__*/_jsx(Link,{children:artisan.site_web||'Non renseigné'})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"contact-form\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Contacter \",artisan.nom]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Votre nom\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",placeholder:\"Votre email\",required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Objet\",required:true}),/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"Votre message...\",required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Envoyer\"})]})]});}export default FicheArtisan;","map":{"version":3,"names":["React","useEffect","useState","Link","useParams","axios","logo","Helmet","jsx","_jsx","jsxs","_jsxs","FicheArtisan","_artisan$specialite","id","artisan","setArtisan","fetchArtisan","response","get","data","err","console","error","renderStars","note","stars","i","push","className","children","name","content","nom","src","alt","specialite","ville","a_propos","site_web","type","placeholder","required"],"sources":["/Users/utilisateur/Desktop/En_cours/devoir/miradji_ladhidhou_devoir_trouve_ton_artisan/frontend/src/pages/FicheArtisan.jsx"],"sourcesContent":["// Importation des dépendances nécessaires\nimport React, { useEffect, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport logo from '../image/Logo.png';\nimport { Helmet } from 'react-helmet-async';\n\n// Composant pour afficher la fiche d'un artisan\nfunction FicheArtisan() {\n  const { id } = useParams(); // Récupération de l'ID dans l'URL\n  const [artisan, setArtisan] = useState(null); // État pour stocker les données de l'artisan\n\n  // Chargement des données de l'artisan au montage du composant\n  useEffect(() => {\n    const fetchArtisan = async () => {\n      try {\n        const response = await axios.get(`http://localhost:3001/api/artisans/${id}`);\n        setArtisan(response.data);\n      } catch (err) {\n        console.error('Erreur lors de la récupération de l’artisan :', err);\n      }\n    };\n\n    fetchArtisan();\n  }, [id]);\n\n  // Fonction pour afficher les étoiles de notation\n  const renderStars = (note) => {\n    const stars = [];\n    for (let i = 1; i <= 5; i++) {\n      stars.push(\n        <span key={i} className={i <= note ? 'star filled' : 'star'}>★</span>\n      );\n    }\n    return stars;\n  };\n  \n  // Affiche un message de chargement pendant la requête\n  if (!artisan) return <p>Chargement...</p>;\n\n  // Affichage des informations de l'artisan et formulaire de contact\n  return (\n    <div className=\"fiche-artisan\">\n\n      <Helmet>\n        <title>Fiche artisan</title>\n        <meta name=\"description\" content=\"Découvrez le profil détaillé de nos artisans\" />\n      </Helmet>\n      <h2>{artisan.nom}</h2>\n      <img src={logo} alt={artisan.nom} className=\"artisan-photo\" />\n      <p className=\"stars\">{renderStars(artisan.note || 0)}</p>\n      <p><strong>Spécialité :</strong> {artisan.specialite?.nom}</p>\n      <p><strong>Localisation :</strong> {artisan.ville}</p>\n      <p><strong>À propos :</strong> {artisan.a_propos || 'Non renseigné'}</p>\n      <p><strong>Site web :</strong> <Link>{artisan.site_web || 'Non renseigné'}</Link></p>\n\n      <form className=\"contact-form\">\n        <h3>Contacter {artisan.nom}</h3>\n        <input type=\"text\" placeholder=\"Votre nom\" required />\n        <input type=\"email\" placeholder=\"Votre email\" required />\n        <input type=\"text\" placeholder=\"Objet\" required />\n        <textarea placeholder=\"Votre message...\" required></textarea>\n        <button type=\"submit\">Envoyer</button>\n      </form>\n    </div>\n  );\n}\n\nexport default FicheArtisan;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}